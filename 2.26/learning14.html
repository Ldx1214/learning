<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>learning</title>
</head>
<body>
	<script>
		Array.prototype.unique=function()
		{
		  var a=[]; 
		  var l=this.length; 
		  for (var i=0;i<l;i++)
		  { 
		    for(var j=i+1;j<l;j++)
		    { 
		      if(this[i]===this[j]) 
		      {
		         j=++i;
		       } 
		     } 
		    a.push(this[i]); 
		  } 
		  return a; 
		}
		  
		Array.prototype.intersect=function()
		{
		  if (!arguments.length) return []; 
		  var a1 = this; 
		  var a = a2 = null; 
		  var n = 0; 
		  while (n < arguments.length) 
		  { 
		    a = []; 
		    a2 = arguments[n]; 
		    var l = a1.length; 
		    var l2 = a2.length; 
		    for (var i = 0; i < l; i++) 
		    { 
		       for (var j = 0; j < l2; j++) 
		       { 
		         if (a1[i] === a2[j]) a.push(a1[i]); 
		       } 
		     } 
		        a1 = a; n++; 
		  } 
		  return a.unique(); 
		};
		var theArray=[1,2,1,5,2,8,12,1];
		var arr1=[5,8,8,2];
		console.log(theArray.intersect(arr1));
	</script>
</body>
</html>